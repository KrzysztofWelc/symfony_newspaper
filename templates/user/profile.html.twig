{% extends 'base.html.twig' %}

{% block title %}
    {{ app.user.email }}
{% endblock %}

{% block body %}
   <table class="table">
        <tr>
            <td>email</td>
            <td>{{ user.email }}</td>
            <td><a href={{ url('user_email_change', {'id': user.id}) }}>{{ 'change'|trans }}</a></td>
       </tr>
       <tr>
            <td>{{ 'password'|trans }}</td>
            <td>{{ 'secret'|trans }}</td>
            <td>
                <a href={{ url('user_password_change', {'id': user.id}) }}>{{ 'change'|trans }}</a>
            </td>
       </tr>
       {% if is_granted('BLOCK', user) %}
       <tr>
            <td>can publish</td>
            <td>
                {% if user.canPublish %}
                    yes
                {% else %}
                    no
                {% endif %}
            </td>
            <td>
                <a href={{ url('user_block', {'id': user.id}) }}>{{ 'change'|trans }}</a>
            </td>
        </tr>
       {% endif %}
   </table>


    {% if pagination is defined and pagination.items|length %}
        <h2>user articles</h2>
        <div class=" mt-3 navigation text-center">
            {{ knp_pagination_render(pagination) }}
        </div>

        <ul>
            {% for article in pagination.items %}
                <li><a href="{{ url('article_edit', {"id": article.id}) }}">{{ article.title }}</a></li>
            {% endfor %}
        </ul>

    {% endif %}
{% endblock %}